import{c as v,u as y,a as f,r as n,j as e,B as c,U as m,F as p}from"./index-CBPv6F-N.js";import{T as N}from"./Topbar-CFjW05tQ.js";import{P as h}from"./plus-DFQj3cQy.js";import{T as z}from"./trending-up-CnpHfXgH.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=v("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function w(){const i=y(),{rubrics:a,students:j,studentRubrics:d,gradeScales:l,settings:o}=f();n.useMemo(()=>l.find(s=>s.id===o.defaultGradeScaleId)??l[0],[l,o.defaultGradeScaleId]);const x=n.useMemo(()=>[...a].sort((s,r)=>r.updatedAt.localeCompare(s.updatedAt)).slice(0,5),[a]),g=n.useMemo(()=>d.filter(s=>a.find(t=>t.id===s.rubricId)?s.entries.every(t=>t.levelId!==null||t.overridePoints!==void 0):!1).length,[d,a]);return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Dashboard",actions:e.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>i("/rubrics/new"),children:[e.jsx(h,{size:15})," New Rubric"]})}),e.jsxs("div",{className:"page-content fade-in",children:[e.jsxs("div",{className:"grid-3 mb-4",children:[e.jsx("div",{className:"card",style:{borderTop:"3px solid var(--accent)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{background:"var(--accent-soft)",padding:10,borderRadius:10},children:e.jsx(c,{size:20,style:{color:"var(--accent)"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.8rem",fontWeight:700},children:a.length}),e.jsx("div",{className:"text-muted text-sm",children:"Rubrics"})]})]})}),e.jsx("div",{className:"card",style:{borderTop:"3px solid var(--green)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{background:"rgba(34,197,94,0.12)",padding:10,borderRadius:10},children:e.jsx(m,{size:20,style:{color:"var(--green)"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.8rem",fontWeight:700},children:j.length}),e.jsx("div",{className:"text-muted text-sm",children:"Students"})]})]})}),e.jsx("div",{className:"card",style:{borderTop:"3px solid var(--purple)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("div",{style:{background:"rgba(139,92,246,0.12)",padding:10,borderRadius:10},children:e.jsx(z,{size:20,style:{color:"var(--purple)"}})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"1.8rem",fontWeight:700},children:g}),e.jsx("div",{className:"text-muted text-sm",children:"Grades Submitted"})]})]})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:20},children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Recent Rubrics"}),e.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:()=>i("/rubrics"),children:["View all ",e.jsx(b,{size:14})]})]}),x.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(c,{size:32}),e.jsx("p",{children:"No rubrics yet."}),e.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>i("/rubrics/new"),children:[e.jsx(h,{size:14})," Create first rubric"]})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:x.map(s=>{const r=d.filter(t=>t.rubricId===s.id).length;return e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",background:"var(--bg-elevated)",borderRadius:8,cursor:"pointer"},onClick:()=>i(`/rubrics/${s.id}`),children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,fontSize:"0.9rem"},children:s.name}),e.jsxs("div",{className:"text-muted text-xs",children:[s.subject||"No subject"," Â· ",s.criteria.length," criteria"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsxs("span",{className:"badge badge-blue",children:[r," graded"]}),e.jsx(b,{size:15,style:{color:"var(--text-dim)"}})]})]},s.id)})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{style:{marginBottom:16},children:"Quick Actions"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[{label:"Create New Rubric",icon:c,color:"var(--accent)",path:"/rubrics/new"},{label:"Add Student",icon:m,color:"var(--green)",path:"/students"},{label:"Upload Attachment",icon:p,color:"var(--purple)",path:"/attachments"},{label:"Export to PDF",icon:p,color:"var(--yellow)",path:"/export"}].map(({label:s,icon:r,color:t,path:u})=>e.jsxs("button",{className:"btn btn-secondary",onClick:()=>i(u),style:{justifyContent:"flex-start",gap:12},children:[e.jsx(r,{size:16,style:{color:t}}),s]},u))})]})]})]})]})}export{w as default};
